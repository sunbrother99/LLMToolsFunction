##如何解决query中无法提取的参数但工具调用需要参数填充的问题

对于query

```json
我想今天去看电影，如果天气不错的话，推荐一家附近评分高的电影院。
```

get_weather(city,date)
search_cinemas(location, sort_by, open_now)

在这个例子中，想要使用天气工具和电影院搜索工具，都需要query之外的参数。提问用户往往自带用户行为信息，比如用户所在的城市，具体位置，用户提问的时间等，这些可以通过维护一个用户上下文变量得到user_context

user_context = {
                "city":"北京",
                "date":"2025-04-27",
                "location":"明天生活馆"
                }

gpt-4o等语言模型直接用于规划、执行工具链，对于无法从query中提取的参数，往往会进行自行填充（编造不存在的参数）。为了解决这个问题，需要把这个过程拆开，不直接用LLM内部执行工具调用，而是先写prompt做参数识别和提取，
对于无法从query中提取但调用工具需要的参数，输出空，然后单独写模块进行入参的校验，用user_context进行填充。

